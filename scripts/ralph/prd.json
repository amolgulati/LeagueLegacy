{
  "branchName": "ralph/improvements-v2",
  "userStories": [
    {
      "id": "IMP-001",
      "title": "Traverse Sleeper league history chain",
      "acceptanceCriteria": [
        "SleeperClient has method to fetch previous_league_id from league data",
        "Service can traverse the chain of previous_league_id to find all historical league IDs",
        "Unit tests verify chain traversal with mocked API responses",
        "typecheck passes"
      ],
      "priority": 1,
      "passes": true
    },
    {
      "id": "IMP-002",
      "title": "Import all historical Sleeper seasons",
      "acceptanceCriteria": [
        "import_league fetches and imports all historical seasons (not just current)",
        "Each historical season creates proper Season, Team, Matchup, Trade records",
        "Duplicate import is idempotent (re-running doesn't create duplicate records)",
        "Integration test verifies multiple seasons are imported",
        "typecheck passes"
      ],
      "priority": 2,
      "passes": true
    },
    {
      "id": "IMP-003",
      "title": "Fetch and cache Sleeper player database",
      "acceptanceCriteria": [
        "SleeperClient fetches player database from Sleeper API",
        "Player data is cached to avoid repeated fetches (file or database)",
        "Player lookup function returns player name given player ID",
        "Cache has reasonable TTL or manual refresh option",
        "typecheck passes"
      ],
      "priority": 3,
      "passes": true
    },
    {
      "id": "IMP-004",
      "title": "Display player names in trades",
      "acceptanceCriteria": [
        "Trade records store resolved player names (not just IDs)",
        "API returns player names in trade responses",
        "Frontend displays player names in trade timeline and details",
        "Existing trades can be updated with player names via re-import",
        "typecheck passes"
      ],
      "priority": 4,
      "passes": true
    },
    {
      "id": "IMP-005",
      "title": "Detect Sleeper playoff bracket winner",
      "acceptanceCriteria": [
        "SleeperClient fetches playoff bracket or championship matchups",
        "Service identifies championship game and determines winner",
        "Championship week/round is correctly identified from bracket or matchups",
        "Unit tests verify champion detection with mocked playoff data",
        "typecheck passes"
      ],
      "priority": 5,
      "passes": false
    },
    {
      "id": "IMP-006",
      "title": "Store champion in Season record",
      "acceptanceCriteria": [
        "Season model has champion_team_id field if not already present",
        "import_league sets champion on Season after detecting playoff winner",
        "API returns champion info in season responses",
        "Hall of Fame page correctly shows champions from Sleeper leagues",
        "typecheck passes"
      ],
      "priority": 6,
      "passes": false
    },
    {
      "id": "IMP-007",
      "title": "Implement Yahoo OAuth2 authentication flow",
      "acceptanceCriteria": [
        "Yahoo OAuth2 credentials can be configured via environment variables",
        "Auth endpoint initiates OAuth2 flow and redirects to Yahoo",
        "Callback endpoint exchanges code for access/refresh tokens",
        "Tokens are stored securely and can be refreshed",
        "User can verify authentication status via API",
        "typecheck passes"
      ],
      "priority": 7,
      "passes": false
    },
    {
      "id": "IMP-008",
      "title": "Import Yahoo Fantasy league data",
      "acceptanceCriteria": [
        "Fetch and import leagues user has access to",
        "Import standings for each season",
        "Import matchups/scores for each week",
        "Import trade history",
        "All data stored in database with proper relationships",
        "typecheck passes"
      ],
      "priority": 8,
      "passes": false
    },
    {
      "id": "IMP-009",
      "title": "Add import modal loading states and error handling",
      "acceptanceCriteria": [
        "Import modal shows loading spinner during import",
        "Progress indicator shows import steps (fetching league, importing seasons, etc.)",
        "Error messages are displayed clearly when import fails",
        "User can dismiss error and retry import",
        "Success message confirms what was imported",
        "typecheck passes"
      ],
      "priority": 9,
      "passes": false
    },
    {
      "id": "IMP-010",
      "title": "Add import history and re-import functionality",
      "acceptanceCriteria": [
        "Dashboard shows list of imported leagues with import date",
        "User can trigger re-import for any previously imported league",
        "Re-import updates existing data without creating duplicates",
        "Delete option removes a league and all its data",
        "typecheck passes"
      ],
      "priority": 10,
      "passes": false
    }
  ]
}
